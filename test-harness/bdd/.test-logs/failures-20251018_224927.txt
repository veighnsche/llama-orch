FAILURE DETAILS
========================================

Failed Tests: 1

========================================

Retrying download (attempt 2/6)... delay 100ms
Downloading model... [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--------] 60% (3.0 MB / 5.0 MB)
[2m2025-10-18T20:50:30.049434Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::error_handling[0m[2m:[0m All 6 attempts failed: DOWNLOAD_FAILED
   ‚úî  When rbee-hive retries download
[2m2025-10-18T20:50:30.050910Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m ‚úÖ Exit code is 1
   ‚úî  Then rbee-hive displays:
[2m2025-10-18T20:50:30.051341Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'EC2 - Model download failure with retry' completed in 61.131009ms
   ‚úî  And if all 6 attempts fail, error "DOWNLOAD_FAILED" is returned
[2m2025-10-18T20:50:30.551752Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
   ‚úî  And the exit code is 1
Feature: Worker Provisioning
[2m2025-10-18T20:50:30.553891Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: Build worker from git succeeds
  Scenario: Build worker from git succeeds

   ‚úî  Then rbee-hive displays:
[2m2025-10-18T20:50:30.051341Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'EC2 - Model download failure with retry' completed in 61.131009ms
   ‚úî  And if all 6 attempts fail, error "DOWNLOAD_FAILED" is returned
[2m2025-10-18T20:50:30.551752Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
   ‚úî  And the exit code is 1
Feature: Worker Provisioning
[2m2025-10-18T20:50:30.553891Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: Build worker from git succeeds
  Scenario: Build worker from git succeeds
[2m2025-10-18T20:50:30.554773Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::background[0m[2m:[0m ‚úÖ Test setup: Topology configured with 2 nodes
[2m2025-10-18T20:50:30.555921Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::background[0m[2m:[0m ‚úÖ Test setup: Current node set to: workstation
   ‚úî> Given the following topology:
       | node        | hostname              | components                 | capabilities        |
       | blep        | blep.home.arpa        | rbee-keeper, queen-rbee    | cpu                 |

[queen-rbee] ‚ùå SSH connection failed: SSH connection failed: Connection timeout

[2m2025-10-18T20:50:18.072736Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: SSH connection failed: SSH connection failed: Connection timeout

[2m2025-10-18T20:50:18.074983Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'EH-001a - SSH connection timeout' completed in 17.646085ms
   ‚úî  When I run:
   ‚úò  Then queen-rbee attempts SSH connection with 10s timeout
      Step failed:

[queen-rbee] Submitting inference task...

[2m2025-10-18T20:50:22.379605Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable

[2m2025-10-18T20:50:22.383030Z[0m [31mERROR[0m [2mtest_harness_bdd::steps::happy_path[0m[2m:[0m ‚ùå Registry query: node 'workstation' not found
   ‚úî  When I run:
   ‚úî  Then queen-rbee queries rbee-hive registry for node "workstation"
[2m2025-10-18T20:50:22.388445Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'Inference fails when node not in registry' completed in 45.84059ms

[2m2025-10-18T20:50:30.045004Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::edge_cases[0m[2m:[0m ‚úÖ Real download retry failed (exit code Some(1))
[2m2025-10-18T20:50:30.046751Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::edge_cases[0m[2m:[0m rbee-hive should display: Downloading model... [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------------] 40% (2.0 MB / 5.0 MB)
Error: Connection reset by peer
Retrying download (attempt 2/6)... delay 100ms
Downloading model... [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--------] 60% (3.0 MB / 5.0 MB)
[2m2025-10-18T20:50:30.049434Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::error_handling[0m[2m:[0m All 6 attempts failed: DOWNLOAD_FAILED
   ‚úî  When rbee-hive retries download
[2m2025-10-18T20:50:30.050910Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m ‚úÖ Exit code is 1

[queen-rbee] Submitting inference task...

[2m2025-10-18T20:51:17.001022Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable

[2m2025-10-18T20:51:17.004356Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::error_handling[0m[2m:[0m Validating model reference format
   ‚úî  When I run:
   ‚úî  Then rbee-keeper validates model reference format
[2m2025-10-18T20:51:17.007043Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'EH-015a - Invalid model reference format' completed in 31.540872ms

[queen-rbee] Submitting inference task...

[2m2025-10-18T20:51:17.542101Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable

[2m2025-10-18T20:51:17.544867Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::error_handling[0m[2m:[0m Validating backend name
   ‚úî  When I run:
   ‚úî  Then rbee-keeper validates backend name
[2m2025-10-18T20:51:17.547611Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m ‚è±Ô∏è  Scenario 'EH-015b - Invalid backend name' completed in 36.923179ms

[2m2025-10-18T20:51:34.763937Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stdout: üì¶ Installing rbee binaries...

[2m2025-10-18T20:51:34.763966Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Failed to create config directory

Caused by:
    Permission denied (os error 13)

[2m2025-10-18T20:51:34.767242Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m Binaries should be installed to: /usr/local/bin/

[queen-rbee] Submitting inference task...

[2m2025-10-18T20:51:36.332679Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/tasks)

Caused by:
    0: client error (Connect)
    1: tcp connect error
    2: Connection refused (os error 111)



[2m2025-10-18T20:51:36.861853Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/list)

Caused by:
    0: client error (Connect)
    1: tcp connect error
    2: Connection refused (os error 111)



[2m2025-10-18T20:51:37.390496Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/health?node=workstation)

Caused by:
    0: client error (Connect)
    1: tcp connect error
    2: Connection refused (os error 111)



[2m2025-10-18T20:51:37.915301Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/shutdown)

Caused by:
    0: client error (Connect)
    1: tcp connect error
    2: Connection refused (os error 111)



[2m2025-10-18T20:51:38.431384Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/logs?node=workstation&follow=true)

Caused by:
    0: client error (Connect)
    1: tcp connect error
    2: Connection refused (os error 111)

      Defined: tests/features/050-queen-rbee-worker-registry.feature:45:5
      Matched: test-harness/bdd/src/steps/queen_rbee_registry.rs:215:1
      Step panicked. Captured output: assertion `left == right` failed
        left: 0
       right: 2
[2m2025-10-18T20:50:35.113487Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: Filter by capability
[2m2025-10-18T20:50:35.114623Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: Filter by capability

      Defined: tests/features/050-queen-rbee-worker-registry.feature:75:5
      Matched: test-harness/bdd/src/steps/queen_rbee_registry.rs:263:1
      Step panicked. Captured output: assertion failed: world.last_action.as_ref().unwrap().contains("_true")
[2m2025-10-18T20:50:36.646669Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: Stale worker cleanup
[2m2025-10-18T20:50:36.650878Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: Stale worker cleanup
[2m2025-10-18T20:50:36.652941Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::background[0m[2m:[0m ‚úÖ Test setup: Topology configured with 2 nodes
[2m2025-10-18T20:50:36.653379Z[0m [32m INFO[0m [2mtest_harness_bdd::steps::background[0m[2m:[0m ‚úÖ Test setup: Current node set to: blep

      Defined: tests/features/130-inference-execution.feature:50:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:11.347397Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:11.349028Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: EH-018a - Worker busy with all slots occupied
  Scenario: EH-018a - Worker busy with all slots occupied

      Defined: tests/features/140-input-validation.feature:167:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:21.229590Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-002 - Prevent log injection with ANSI escape codes
[2m2025-10-18T20:51:21.233256Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-002 - Prevent log injection with ANSI escape codes

      Defined: tests/features/140-input-validation.feature:176:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:21.770097Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-003 - Prevent log injection with null bytes
[2m2025-10-18T20:51:21.777034Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-003 - Prevent log injection with null bytes

      Defined: tests/features/140-input-validation.feature:184:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:22.298911Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-004 - Prevent path traversal (../../etc/passwd)
[2m2025-10-18T20:51:22.304257Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-004 - Prevent path traversal (../../etc/passwd)

      Defined: tests/features/140-input-validation.feature:191:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:22.824183Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-005 - Prevent path traversal (absolute paths)
[2m2025-10-18T20:51:22.829845Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-005 - Prevent path traversal (absolute paths)

      Defined: tests/features/140-input-validation.feature:199:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:23.348595Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-006 - Prevent path traversal (symlinks)
[2m2025-10-18T20:51:23.350324Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-006 - Prevent path traversal (symlinks)

      Defined: tests/features/140-input-validation.feature:207:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:23.867495Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-007 - Prevent command injection (shell metacharacters)
[2m2025-10-18T20:51:23.868910Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-007 - Prevent command injection (shell metacharacters)

      Defined: tests/features/140-input-validation.feature:215:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:24.388863Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-008 - Prevent command injection (backticks)
[2m2025-10-18T20:51:24.394464Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-008 - Prevent command injection (backticks)

      Defined: tests/features/140-input-validation.feature:223:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:24.914044Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-009 - Prevent command injection (pipe characters)
[2m2025-10-18T20:51:24.917818Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-009 - Prevent command injection (pipe characters)

      Defined: tests/features/140-input-validation.feature:230:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:25.438550Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-010 - Validate model reference format (hf:org/repo)
[2m2025-10-18T20:51:25.440594Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-010 - Validate model reference format (hf:org/repo)

      Defined: tests/features/140-input-validation.feature:246:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:26.486463Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-012 - Validate worker ID format (alphanumeric + dash)
[2m2025-10-18T20:51:26.490672Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-012 - Validate worker ID format (alphanumeric + dash)

      Defined: tests/features/140-input-validation.feature:315:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:30.101638Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-019 - Reject XSS attempts
[2m2025-10-18T20:51:30.104680Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-019 - Reject XSS attempts

      Defined: tests/features/140-input-validation.feature:324:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:30.625346Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-020 - Property-based testing (proptest fuzzing)
[2m2025-10-18T20:51:30.630181Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-020 - Property-based testing (proptest fuzzing)

      Defined: tests/features/140-input-validation.feature:341:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:31.664034Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-022 - Enforce request body size limits
[2m2025-10-18T20:51:31.665535Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-022 - Enforce request body size limits

      Defined: tests/features/140-input-validation.feature:356:5
      Matched: test-harness/bdd/src/steps/validation.rs:319:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 429
        left: None
       right: Some(429)
[2m2025-10-18T20:51:32.685873Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-024 - Safe error messages (no payload echoed)
[2m2025-10-18T20:51:32.688079Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-024 - Safe error messages (no payload echoed)

      Defined: tests/features/140-input-validation.feature:363:5
      Matched: test-harness/bdd/src/steps/validation.rs:39:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 400
        left: None
       right: Some(400)
[2m2025-10-18T20:51:33.212029Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: VAL-025 - Comprehensive validation on all endpoints
[2m2025-10-18T20:51:33.217102Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: VAL-025 - Comprehensive validation on all endpoints

      Defined: tests/features/150-cli-commands.feature:45:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:35.276644Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:35.280660Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: Config file loading with XDG priority
  Scenario: Config file loading with XDG priority

      Defined: tests/features/150-cli-commands.feature:88:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:36.840876Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:36.844464Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: CLI command - list workers
  Scenario: CLI command - list workers

      Defined: tests/features/150-cli-commands.feature:94:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:37.367156Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:37.371745Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: CLI command - check worker health
  Scenario: CLI command - check worker health

      Defined: tests/features/150-cli-commands.feature:99:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:37.897625Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:37.900419Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: CLI command - manually shutdown worker
  Scenario: CLI command - manually shutdown worker

      Defined: tests/features/150-cli-commands.feature:106:5
      Matched: test-harness/bdd/src/steps/cli_commands.rs:260:1
      Step panicked. Captured output: assertion `left == right` failed: Expected exit code 0, got Some(1)
        left: Some(1)
       right: Some(0)
[2m2025-10-18T20:51:38.420979Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
[2m2025-10-18T20:51:38.421606Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: CLI command - view logs
  Scenario: CLI command - view logs

      Defined: tests/features/300-authentication.feature:178:5
      Matched: test-harness/bdd/src/steps/authentication.rs:81:1
      Step panicked. Captured output: assertion `left == right` failed: Expected status 401
        left: None
       right: Some(401)
[2m2025-10-18T20:52:03.411183Z[0m [34mDEBUG[0m [2mtest_harness_bdd::steps::world[0m[2m:[0m World dropped, cleaning up scenario-specific resources
  Scenario: AUTH-017 - Auth required for all HTTP methods
[2m2025-10-18T20:52:03.418434Z[0m [32m INFO[0m [2mcucumber[0m[2m:[0m üé¨ Starting scenario: AUTH-017 - Auth required for all HTTP methods

========================================
Errors:
========================================
[2m2025-10-18T20:50:18.072736Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: SSH connection failed: SSH connection failed: Connection timeout
[2m2025-10-18T20:50:22.379605Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable
Error: Connection reset by peer
[2m2025-10-18T20:51:17.001022Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable
[2m2025-10-18T20:51:17.542101Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Inference request failed: HTTP 503 Service Unavailable
[2m2025-10-18T20:51:34.763966Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: Failed to create config directory
[2m2025-10-18T20:51:36.332679Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/tasks)
[2m2025-10-18T20:51:36.861853Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/list)
[2m2025-10-18T20:51:37.390496Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/health?node=workstation)
[2m2025-10-18T20:51:37.915301Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/workers/shutdown)
[2m2025-10-18T20:51:38.431384Z[0m [33m WARN[0m [2mtest_harness_bdd::steps::cli_commands[0m[2m:[0m stderr: Error: error sending request for url (http://localhost:8080/v2/logs?node=workstation&follow=true)

========================================
Panics:
========================================
