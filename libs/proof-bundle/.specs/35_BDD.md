# Proof-Bundle — BDD (35_BDD)

Status: Draft
Owner: @llama-orch-maintainers
Date: 2025-09-26

## Scope

At the crate scope, BDD scenarios are not applicable. BDD lives in `test-harness/bdd/` and exercises orchestrator flows across HTTP boundaries. The `proof-bundle` crate may be used by the BDD harness to emit artifacts, but the semantics of those scenarios are tested elsewhere.

## Expectations When Used by BDD Harness

- Use `ProofBundle::for_type(TestType::Bdd)` to open the bundle root.
- Emit SSE transcripts as NDJSON (`sse_transcripts/<feature>__<scenario>.ndjson`).
- Ensure headers per PB-1012:
  - First NDJSON record SHOULD be `{ "_meta": "proof_bundle", "_note": "autogenerated" }` (helpers: `append_ndjson_autogen_meta`).
  - Markdown logs/reports MUST begin with `# AUTOGENERATED: Proof Bundle` (helpers: `write_markdown_with_header`).
  - JSON artifacts SHOULD include a sibling `.meta` file or embedded `generated_by` (helpers: `write_json_with_meta`).
- Respect envs:
  - `LLORCH_PROOF_DIR` — override base directory for harness runs.
  - `LLORCH_RUN_ID` — group per-run artifacts.

## Non-Goals

- No BDD scenarios are authored inside this crate.

## Links

- Central type guide: `/.docs/testing/types/bdd.md`
- Templates: `/.proof_bundle/templates/bdd/README.md`
- Spec: `/.specs/00_proof-bundle.md` (PB-1012)
- Contracts: `/.specs/10_contracts.md`
