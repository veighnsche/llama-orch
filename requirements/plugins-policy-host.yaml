schema_version: 1
source: .specs/50-plugins-policy-host.md
notes: Extracted from .specs/50-plugins-policy-host.md
requirements:
  OC-POLICY-4001:
    title: '- [] Default plugin ABI MUST be WASI; functions MUST be pure/deterministic over explicit snapshots.'
    section: 1) ABI & Determinism
    level: must
    links:
    - .specs/50-plugins-policy-host.md#1-abi-determinism
  OC-POLICY-4002:
    title: '- [] ABI versioning MUST be explicit; incompatible changes MUST bump MAJOR.'
    section: 1) ABI & Determinism
    level: must
    links:
    - .specs/50-plugins-policy-host.md#1-abi-determinism
  OC-POLICY-4010:
    title: '- [] Plugins MUST run in a sandbox with no filesystem/network unless explicitly granted.'
    section: 2) Sandboxing & Safety
    level: must
    links:
    - .specs/50-plugins-policy-host.md#2-sandboxing-safety
  OC-POLICY-4011:
    title: '- [] Host MUST bound CPU time/memory per invocation and abort on overuse.'
    section: 2) Sandboxing & Safety
    level: must
    links:
    - .specs/50-plugins-policy-host.md#2-sandboxing-safety
  OC-POLICY-4020:
    title: '- [] Host MUST log plugin id/version, decision outcome, and latency.'
    section: 3) Telemetry
    level: must
    links:
    - .specs/50-plugins-policy-host.md#3-telemetry
  OC-POLICY-4030:
    title: '- [] The policy host SHOULD expose a mediated HTTP fetch/search tool to clients (e.g., CLI agents), enforcing allowlists/denylists of domains and MIME types.'
    section: '4) Tooling Proxy: HTTP Fetch/Search (Client Docs Access)'
    level: should
    links:
    - .specs/50-plugins-policy-host.md#4-tooling-proxy-http-fetch-search-client-docs-access
  OC-POLICY-4031:
    title: '- [] The tool MUST redact secrets and PII as configured and MUST bound response size and rate.'
    section: '4) Tooling Proxy: HTTP Fetch/Search (Client Docs Access)'
    level: must
    links:
    - .specs/50-plugins-policy-host.md#4-tooling-proxy-http-fetch-search-client-docs-access
  OC-POLICY-4032:
    title: '- [] The tool MUST emit audit logs that include request URL (redacted), policy decision, and byte counts.'
    section: '4) Tooling Proxy: HTTP Fetch/Search (Client Docs Access)'
    level: must
    links:
    - .specs/50-plugins-policy-host.md#4-tooling-proxy-http-fetch-search-client-docs-access
  OC-POLICY-4033:
    title: '- [] The ABI for invoking tools MUST be stable and versioned; tool invocation SHOULD be deterministic with respect to inputs and policy snapshot.'
    section: '4) Tooling Proxy: HTTP Fetch/Search (Client Docs Access)'
    level: must
    links:
    - .specs/50-plugins-policy-host.md#4-tooling-proxy-http-fetch-search-client-docs-access
