# Pricing policy for deriving sell prices from computed costs (no per-SKU guesses)
# All percentages are 0-100.

version: 1
public_tap:
  # Target gross margin used to compute default price when no explicit override is provided.
  target_gross_margin_pct: 45
  # Minimum acceptable gross margin on worst-case bounds (min TPS, max GPU cost).
  min_gross_margin_pct: 25
  # Rounding step for price per 1k tokens.
  rounding_per_1k_tokens: 0.01
  # Absolute floor for price per 1k tokens (pre-tax).
  price_floor_per_1k_tokens: 0.01
  # Optional maximum price cap per 1k tokens; set null to disable.
  price_cap_per_1k_tokens: null
  # Optional per-model floors or caps can be added later if needed.
  apply_competitor_caps: true

  # Elasticity-based optimizer (Option B)
  optimize:
    enabled: true
    objective: profit
    # Constant elasticity exponent ε; 1.8 geeft merkbare vraag-gevoeligheid
    elasticity_epsilon: 1.8
    # Laat leeg om target-marge (onafgerond) als referentie te nemen
    reference_per_1k_tokens: null
    # Realistische band voor publiek (EUR per 1k tokens); per-SKU overrides below are preferred
    bounds_per_1k: null
    # Resolutie van de grid search (EUR per 1k tokens)
    grid_step_per_1k: 0.005
    # Per-SKU overrides (realistische marktbanden per model)
    per_sku:
      Llama-3-1-8B:
        bounds_per_1k: [0.06, 0.09]
        elasticity_epsilon: 1.8
      Qwen2-5-7B:
        bounds_per_1k: [0.06, 0.08]
        elasticity_epsilon: 1.8
      Mixtral-8x7B:
        bounds_per_1k: [0.30, 0.50]
        elasticity_epsilon: 1.8

notes:
  - "Prices are derived from measured TPS × GPU EUR/hr costs; no static per-SKU guesses."
  - "If no TPS measurement exists for a model, the model is excluded from curated output."
