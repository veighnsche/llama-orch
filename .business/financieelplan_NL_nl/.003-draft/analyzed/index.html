<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Qredits – 18-Month Financial Plan (Analysis)</title>
  <style>
    :root{--ink:#1b1f23;--muted:#586069;--ok:#106b21;--warn:#8a6d3b;--bad:#b71c1c;--bg:#fff}
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.45;color:var(--ink);background:var(--bg);margin:0;padding:24px}
    header{margin-bottom:24px}
    h1{font-size:20px;margin:0 0 4px}
    h2{font-size:18px;margin:24px 0 8px}
    h3{font-size:16px;margin:16px 0 8px}
    p,li{font-size:14px;color:var(--ink)}
    .muted{color:var(--muted)}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin:12px 0}
    .card{border:1px solid #e1e4e8;border-radius:8px;padding:12px;background:#fff}
    .k{font-size:12px;color:var(--muted)}
    .v{font-size:18px;font-weight:600}
    table{width:100%;border-collapse:collapse;margin:8px 0 24px}
    th,td{padding:6px 8px;border:1px solid #e1e4e8;font-size:12px;text-align:right}
    th:first-child,td:first-child{text-align:left}
    .ok{color:var(--ok)}.warn{color:var(--warn)}.bad{color:var(--bad)}
    .section{page-break-inside:avoid}
    @media print{body{padding:0} .no-print{display:none}}
    .foot{margin-top:24px;font-size:12px;color:var(--muted)}
    .small{font-size:12px}
  </style>
</head>
<body>
  <header>
    <h1>Qredits – 18-Month Financial Plan (Analysis)</h1>
    <div class="muted small">Generated at: <span id="gen_at">2025-09-29T15:53:35Z</span></div>
  </header>

  <section class="section" id="exec">
    <h2>Executive Summary</h2>
    <div class="cards">
      <div class="card"><div class="k">Min DSCR</div><div class="v" id="dscr_min">–</div></div>
      <div class="card"><div class="k">Min Cash (€)</div><div class="v" id="cash_min">–</div></div>
      <div class="card"><div class="k">Runway (months to cash < 0)</div><div class="v" id="runway">–</div></div>
      <div class="card"><div class="k">Revenue (€)</div><div class="v" id="rev_total">–</div></div>
      <div class="card"><div class="k">Costs (€)</div><div class="v" id="cost_total">–</div></div>
      <div class="card"><div class="k">Margin (€)</div><div class="v" id="margin_total">–</div></div>
    </div>
    <p class="small muted" id="perc_note"></p>
  </section>

  <section class="section" id="why">
    <h2>Why this projection is realistic</h2>
    <ul id="justifications">
      <!-- populated by JS -->
    </ul>
  </section>

  <section class="section" id="pnl">
    <h2>Monthly P&L (Representative Cut)</h2>
    <table id="tbl_pnl">
      <thead>
        <tr>
          <th>Month</th>
          <th>Revenue (total)</th>
          <th>COGS (total)</th>
          <th>Opex (fixed)</th>
          <th>Depreciation</th>
          <th>EBITDA</th>
          <th>Interest</th>
          <th>EBT</th>
          <th>Tax</th>
          <th>Net Income</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section class="section" id="cashflow">
    <h2>Monthly Cashflow</h2>
    <table id="tbl_cf">
      <thead>
        <tr>
          <th>Month</th>
          <th>Starting Cash</th>
          <th>Cash from Ops</th>
          <th>Working Capital Δ</th>
          <th>VAT Cash</th>
          <th>Capex</th>
          <th>Debt Service (Interest)</th>
          <th>Debt Service (Principal)</th>
          <th>Ending Cash</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section class="section" id="loan">
    <h2>Loan Schedule</h2>
    <table id="tbl_loan">
      <thead>
        <tr>
          <th>Month</th>
          <th>Principal Opening</th>
          <th>Interest</th>
          <th>Principal Repayment</th>
          <th>Payment</th>
          <th>Principal Closing</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <div class="foot">
    Built from engine outputs; print this page to PDF for submission.
  </div>

  <script id="DATA_JSON" type="application/json">{"consolidated": {"public": {"revenue_eur": 28087.682804858738, "cost_eur": 21.387668336256073, "margin_eur": 28066.29513652248}, "private": {"revenue_eur": 48469.26492711627, "cost_eur": 21701.345387560432, "margin_eur": 26767.91953955584}, "total": {"revenue_eur": 76556.94773197501, "cost_eur": 21722.73305589669, "margin_eur": 54834.21467607832}, "autoscaling": {"avg_util_pct": 0.08232704561001118, "p95_util_pct": 0.14640780527068953, "sla_violations": 0}, "percentiles": {"report_percentiles": [10.0, 50.0, 90.0], "selected_percentile": 50.0}, "sensitivity": {"public_revenue": {"min": 50.0, "max": 185.00090274004327, "mean": 104.02845483281014, "std": 40.8845528577334}, "private_revenue": {"min": 203.67727272727274, "max": 1847.8084434301986, "mean": 538.5473880790697, "std": 366.32958830868387}}}, "kpis": {"dscr_min": -10.005476309285356, "icr_min": -10.005476309285356, "cash_min": -13793.794193770376, "runway_months": 10}, "monthly": {"revenue_total": [1888.8929545454546, 2097.1026977272727, 2314.817740522728, 2542.830019457954, 2781.9828986941798, 3033.174983142516, 3297.3642061259516, 3575.572212095268, 3868.889056447546, 4178.4782461556515, 4505.582146703571, 4851.52778274573, 5217.733061978721, 5605.713453942784, 6017.08915787008, 6453.592796280465, 6917.077673807355, 7409.526643731781], "cogs_total": [102.75518648018648, 208.0504877622377, 316.69086382867135, 428.96629897814677, 545.1815062139215, 665.6568917200067, 790.7295748347426, 920.7544669268825, 1056.1054127816637, 1197.1763983189462, 1344.3828286930545, 1498.1628810652758, 1658.9789365958209, 1827.3190964733494, 2003.6987870878388, 2188.662459757558, 2382.785390744322, 2586.6755876340626], "ebitda": [-2488.862231934732, -2385.947790034965, -2276.8731233059434, -2161.1362795201926, -2038.198607519742, -1907.4819085774907, -1768.3653687087908, -1620.182254831615, -1462.2163563341178, -1293.6981521632947, -1113.8006819894836, -921.6350983195452, -716.2458746171001, -496.6056425305651, -261.60962921775854, -10.069663477092035, 259.2922830630323, 547.8510560977193], "interest": [248.74999999999997, 248.74999999999997, 248.74999999999997, 248.74999999999997, 245.31857088891073, 241.85868951144204, 238.37011995088517, 234.85262433438868, 231.30596281673874, 227.72989356400495, 224.12417273705057, 220.48855447490604, 216.82279087800455, 213.12663199127874, 209.3998257871172, 205.6421181481795, 201.85325285006888, 198.03297154386146], "debt_service_principal": [0.0, 0.0, 0.0, 413.84069681478366, 417.27212592587296, 420.7320073033416, 424.2205768638985, 427.738072480395, 431.2847339980449, 434.8608032507787, 438.4665240777331, 442.1021423398776, 445.76790593677913, 449.46406482350494, 453.19087102766645, 456.94857866660413, 460.73744396471477, 464.5577252709222], "dscr": [-10.005476309285356, -9.591749909688302, -9.153258787159572, -3.26164597527439, -3.076105078622145, -2.8788238617704227, -2.6688653752757237, -2.4452233673370007, -2.2068169133121054, -1.9524846309831705, -1.6809784492051634, -1.3909568950334557, -1.080977861687839, -0.7494908167558879, -0.3948284068511261, -0.015197411502303125, 0.39133100466020154, 0.8268317963583814], "ending_cash": [32262.38776806527, 26749.686604836832, 23718.28785070921, 20359.21738648273, 17091.579028846994, 13921.061432091614, 10853.810027500613, 7896.460689405883, 5056.176011274125, 2340.684392955388, -241.67784406839849, -2681.9210796548737, -4970.353504142098, -7096.528441904391, -9049.18759631832, -10816.199900215133, -12384.49563117682, -13793.794193770376], "vat_cash_total": 10502.386360195926, "wc_delta_total": 3036.713288032451}, "meta": {"horizon_months": 18, "generated_at": "2025-09-29T15:53:35Z", "selected_percentile": 50.0, "report_percentiles": [10.0, 50.0, 90.0]}, "autoscaling": {"avg_util_pct": 0.08232704561001118, "p95_util_pct": 0.14640780527068953, "sla_violations": 0}, "loan_schedule": [{"month": "0.0", "principal_opening": "30000.0", "interest": "248.74999999999997", "principal_repayment": "0.0", "payment": "248.74999999999997", "principal_closing": "30000.0"}, {"month": "1.0", "principal_opening": "30000.0", "interest": "248.74999999999997", "principal_repayment": "0.0", "payment": "248.74999999999997", "principal_closing": "30000.0"}, {"month": "2.0", "principal_opening": "30000.0", "interest": "248.74999999999997", "principal_repayment": "0.0", "payment": "248.74999999999997", "principal_closing": "30000.0"}, {"month": "3.0", "principal_opening": "30000.0", "interest": "248.74999999999997", "principal_repayment": "413.84069681478366", "payment": "662.5906968147837", "principal_closing": "29586.159303185217"}, {"month": "4.0", "principal_opening": "29586.159303185217", "interest": "245.31857088891073", "principal_repayment": "417.27212592587296", "payment": "662.5906968147837", "principal_closing": "29168.887177259345"}, {"month": "5.0", "principal_opening": "29168.887177259345", "interest": "241.85868951144204", "principal_repayment": "420.7320073033416", "payment": "662.5906968147837", "principal_closing": "28748.155169956004"}, {"month": "6.0", "principal_opening": "28748.155169956004", "interest": "238.37011995088517", "principal_repayment": "424.2205768638985", "payment": "662.5906968147837", "principal_closing": "28323.934593092104"}, {"month": "7.0", "principal_opening": "28323.934593092104", "interest": "234.85262433438868", "principal_repayment": "427.738072480395", "payment": "662.5906968147837", "principal_closing": "27896.19652061171"}, {"month": "8.0", "principal_opening": "27896.19652061171", "interest": "231.30596281673874", "principal_repayment": "431.2847339980449", "payment": "662.5906968147837", "principal_closing": "27464.911786613666"}, {"month": "9.0", "principal_opening": "27464.911786613666", "interest": "227.72989356400495", "principal_repayment": "434.8608032507787", "payment": "662.5906968147837", "principal_closing": "27030.050983362886"}, {"month": "10.0", "principal_opening": "27030.050983362886", "interest": "224.12417273705057", "principal_repayment": "438.4665240777331", "payment": "662.5906968147837", "principal_closing": "26591.584459285154"}, {"month": "11.0", "principal_opening": "26591.584459285154", "interest": "220.48855447490604", "principal_repayment": "442.1021423398776", "payment": "662.5906968147837", "principal_closing": "26149.482316945276"}, {"month": "12.0", "principal_opening": "26149.482316945276", "interest": "216.82279087800455", "principal_repayment": "445.76790593677913", "payment": "662.5906968147837", "principal_closing": "25703.714411008496"}, {"month": "13.0", "principal_opening": "25703.714411008496", "interest": "213.12663199127874", "principal_repayment": "449.46406482350494", "payment": "662.5906968147837", "principal_closing": "25254.250346184992"}, {"month": "14.0", "principal_opening": "25254.250346184992", "interest": "209.3998257871172", "principal_repayment": "453.19087102766645", "payment": "662.5906968147837", "principal_closing": "24801.059475157326"}, {"month": "15.0", "principal_opening": "24801.059475157326", "interest": "205.6421181481795", "principal_repayment": "456.94857866660413", "payment": "662.5906968147837", "principal_closing": "24344.11089649072"}, {"month": "16.0", "principal_opening": "24344.11089649072", "interest": "201.85325285006888", "principal_repayment": "460.73744396471477", "payment": "662.5906968147837", "principal_closing": "23883.373452526008"}, {"month": "17.0", "principal_opening": "23883.373452526008", "interest": "198.03297154386146", "principal_repayment": "464.5577252709222", "payment": "662.5906968147837", "principal_closing": "23418.815727255085"}], "pnl_rows": [{"month": "0", "revenue_public": "750.0", "revenue_private": "1138.8929545454546", "cogs_public": "0.5710955710955713", "cogs_private": "102.18409090909091", "opex_fixed": "4275.0", "depreciation": "0.0", "EBITDA": "-2488.862231934732", "interest": "248.74999999999997", "EBT": "-2737.612231934732", "tax": "0.0", "NetIncome": "-2737.612231934732"}, {"month": "1", "revenue_public": "810.0", "revenue_private": "1287.1026977272727", "cogs_public": "0.616783216783217", "cogs_private": "207.4337045454545", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-2385.947790034965", "interest": "248.74999999999997", "EBT": "-2701.3644567016313", "tax": "0.0", "NetIncome": "-2701.3644567016313"}, {"month": "2", "revenue_public": "874.8000000000006", "revenue_private": "1440.0177405227273", "cogs_public": "0.6661258741258743", "cogs_private": "316.02473795454546", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-2276.8731233059434", "interest": "248.74999999999997", "EBT": "-2592.28978997261", "tax": "0.0", "NetIncome": "-2592.28978997261"}, {"month": "3", "revenue_public": "944.784", "revenue_private": "1598.0460194579543", "cogs_public": "0.7194159440559443", "cogs_private": "428.24688303409084", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-2161.1362795201926", "interest": "248.74999999999997", "EBT": "-2476.552946186859", "tax": "0.0", "NetIncome": "-2476.552946186859"}, {"month": "4", "revenue_public": "1020.3667200000002", "revenue_private": "1761.6161786941796", "cogs_public": "0.77696921958042", "cogs_private": "544.404536994341", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-2038.198607519742", "interest": "245.31857088891073", "EBT": "-2350.1838450753194", "tax": "0.0", "NetIncome": "-2350.1838450753194"}, {"month": "5", "revenue_public": "1101.9960576000005", "revenue_private": "1931.1789255425156", "cogs_public": "0.8391267571468535", "cogs_private": "664.8177649628599", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1907.4819085774907", "interest": "241.85868951144204", "EBT": "-2216.0072647555994", "tax": "0.0", "NetIncome": "-2216.0072647555994"}, {"month": "6", "revenue_public": "1190.1557422080002", "revenue_private": "2107.2084639179516", "cogs_public": "0.9062568977186019", "cogs_private": "789.8233179370241", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1768.3653687087908", "interest": "238.37011995088517", "EBT": "-2073.402155326343", "tax": "0.0", "NetIncome": "-2073.402155326343"}, {"month": "7", "revenue_public": "1285.3682015846412", "revenue_private": "2290.2040105106266", "cogs_public": "0.9787574495360902", "cogs_private": "919.7757094773464", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1620.182254831615", "interest": "234.85262433438868", "EBT": "-1921.7015458326705", "tax": "0.0", "NetIncome": "-1921.7015458326705"}, {"month": "8", "revenue_public": "1388.197657711412", "revenue_private": "2480.691398736134", "cogs_public": "1.0570580454989775", "cogs_private": "1055.0483547361648", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1462.2163563341178", "interest": "231.30596281673874", "EBT": "-1760.1889858175232", "tax": "0.0", "NetIncome": "-1760.1889858175232"}, {"month": "9", "revenue_public": "1499.2534703283245", "revenue_private": "2679.2247758273265", "cogs_public": "1.1416226891388959", "cogs_private": "1196.0347756298074", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1293.6981521632947", "interest": "227.72989356400495", "EBT": "-1588.0947123939663", "tax": "0.0", "NetIncome": "-1588.0947123939663"}, {"month": "10", "revenue_public": "1619.1937479545911", "revenue_private": "2886.3883987489803", "cogs_public": "1.232952504270008", "cogs_private": "1343.1498761887844", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-1113.8006819894836", "interest": "224.12417273705057", "EBT": "-1404.5915213932008", "tax": "0.0", "NetIncome": "-1404.5915213932008"}, {"month": "11", "revenue_public": "1748.7292477909582", "revenue_private": "3102.798534954772", "cogs_public": "1.3315887046116082", "cogs_private": "1496.831292360664", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-921.6350983195452", "interest": "220.48855447490604", "EBT": "-1208.7903194611179", "tax": "0.0", "NetIncome": "-1208.7903194611179"}, {"month": "12", "revenue_public": "1888.6275876142347", "revenue_private": "3329.105474364486", "cogs_public": "1.4381158009805366", "cogs_private": "1657.5408207948403", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-716.2458746171001", "interest": "216.82279087800455", "EBT": "-999.7353321617712", "tax": "0.0", "NetIncome": "-999.7353321617712"}, {"month": "13", "revenue_public": "2039.7177946233749", "revenue_private": "3565.9956593194092", "cogs_public": "1.55316506505898", "cogs_private": "1825.7659314082905", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-496.6056425305651", "interest": "213.12663199127874", "EBT": "-776.3989411885104", "tax": "0.0", "NetIncome": "-776.3989411885104"}, {"month": "14", "revenue_public": "2202.8952181932436", "revenue_private": "3814.1939396768366", "cogs_public": "1.6774182702636988", "cogs_private": "2002.0213688175752", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-261.60962921775854", "interest": "209.3998257871172", "EBT": "-537.6761216715424", "tax": "0.0", "NetIncome": "-537.6761216715424"}, {"month": "15", "revenue_public": "2379.126835648704", "revenue_private": "4074.465960631762", "cogs_public": "1.8116117318847946", "cogs_private": "2186.8508480256733", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "-10.069663477092035", "interest": "205.6421181481795", "EBT": "-282.3784482919382", "tax": "0.0", "NetIncome": "-282.3784482919382"}, {"month": "16", "revenue_public": "2569.456982500601", "revenue_private": "4347.6206913067535", "cogs_public": "1.9565406704355777", "cogs_private": "2380.8288500738863", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "259.2922830630323", "interest": "201.85325285006888", "EBT": "-9.22763645370327", "tax": "0.0", "NetIncome": "-9.22763645370327"}, {"month": "17", "revenue_public": "2775.0135411006495", "revenue_private": "4634.513102631132", "cogs_public": "2.1130639240704245", "cogs_private": "2584.562523709992", "opex_fixed": "4275.0", "depreciation": "66.66666666666667", "EBITDA": "547.8510560977193", "interest": "198.03297154386146", "EBT": "283.1514178871911", "tax": "53.79876939856631", "NetIncome": "229.35264848862477"}], "cf_rows": [{"month": "0", "starting_cash": "35000.0", "cash_from_ops": "-2488.862231934732", "working_capital_delta": "0.0", "vat_cash": "0.0", "capex": "0.0", "debt_service_interest": "248.74999999999997", "debt_service_principal": "0.0", "ending_cash": "32262.38776806527"}, {"month": "1", "starting_cash": "0.0", "cash_from_ops": "-2863.9511632284375", "working_capital_delta": "102.91444189976687", "vat_cash": "375.0889312937063", "capex": "2400.0", "debt_service_interest": "248.74999999999997", "debt_service_principal": "0.0", "ending_cash": "26749.686604836832"}, {"month": "2", "starting_cash": "0.0", "cash_from_ops": "-2782.648754127622", "working_capital_delta": "109.0746667290216", "vat_cash": "396.70096409265733", "capex": "0.0", "debt_service_interest": "248.74999999999997", "debt_service_principal": "0.0", "ending_cash": "23718.28785070921"}, {"month": "3", "starting_cash": "0.0", "cash_from_ops": "-2696.4797674116953", "working_capital_delta": "115.7368437857508", "vat_cash": "419.60664410575185", "capex": "0.0", "debt_service_interest": "248.74999999999997", "debt_service_principal": "413.84069681478366", "ending_cash": "20359.21738648273"}, {"month": "4", "starting_cash": "0.0", "cash_from_ops": "-2605.047660820952", "working_capital_delta": "122.93767200045068", "vat_cash": "443.91138130075956", "capex": "0.0", "debt_service_interest": "245.31857088891073", "debt_service_principal": "417.27212592587296", "ending_cash": "17091.579028846994"}, {"month": "5", "starting_cash": "0.0", "cash_from_ops": "-2507.9268999405963", "working_capital_delta": "130.71669894225124", "vat_cash": "469.7282924208542", "capex": "0.0", "debt_service_interest": "241.85868951144204", "debt_service_principal": "420.7320073033416", "ending_cash": "13921.061432091614"}, {"month": "6", "starting_cash": "0.0", "cash_from_ops": "-2404.660707776218", "working_capital_delta": "139.11653986869987", "vat_cash": "497.17879919872695", "capex": "0.0", "debt_service_interest": "238.37011995088517", "debt_service_principal": "424.2205768638985", "ending_cash": "10853.810027500613"}, {"month": "7", "starting_cash": "0.0", "cash_from_ops": "-2294.7586412799446", "working_capital_delta": "148.18311387717586", "vat_cash": "526.393272571154", "capex": "0.0", "debt_service_interest": "234.85262433438868", "debt_service_principal": "427.738072480395", "ending_cash": "7896.460689405883"}, {"month": "8", "starting_cash": "0.0", "cash_from_ops": "-2177.6939813169756", "working_capital_delta": "157.96589849749716", "vat_cash": "557.5117264853609", "capex": "0.0", "debt_service_interest": "231.30596281673874", "debt_service_principal": "431.2847339980449", "ending_cash": "5056.176011274125"}, {"month": "9", "starting_cash": "0.0", "cash_from_ops": "-2052.900921503953", "working_capital_delta": "168.51820417082308", "vat_cash": "590.6845651698353", "capex": "0.0", "debt_service_interest": "227.72989356400495", "debt_service_principal": "434.8608032507787", "ending_cash": "2340.684392955388"}, {"month": "10", "starting_cash": "0.0", "cash_from_ops": "-1919.7715402090028", "working_capital_delta": "179.89747017381114", "vat_cash": "626.073388045708", "capex": "0.0", "debt_service_interest": "224.12417273705057", "debt_service_principal": "438.4665240777331", "ending_cash": "-241.67784406839849"}, {"month": "11", "starting_cash": "0.0", "cash_from_ops": "-1777.652538771692", "working_capital_delta": "192.16558366993831", "vat_cash": "663.8518567822085", "capex": "0.0", "debt_service_interest": "220.48855447490604", "debt_service_principal": "442.1021423398776", "ending_cash": "-2681.9210796548737"}, {"month": "12", "starting_cash": "0.0", "cash_from_ops": "-1625.8417276724408", "working_capital_delta": "205.38922370244518", "vat_cash": "704.2066293528954", "capex": "0.0", "debt_service_interest": "216.82279087800455", "debt_service_principal": "445.76790593677913", "ending_cash": "-4970.353504142098"}, {"month": "13", "starting_cash": "0.0", "cash_from_ops": "-1463.584240947509", "working_capital_delta": "219.64023208653498", "vat_cash": "747.338366330409", "capex": "0.0", "debt_service_interest": "213.12663199127874", "debt_service_principal": "449.46406482350494", "ending_cash": "-7096.528441904391"}, {"month": "14", "starting_cash": "0.0", "cash_from_ops": "-1290.0684575991463", "working_capital_delta": "234.99601331280655", "vat_cash": "793.4628150685812", "capex": "0.0", "debt_service_interest": "209.3998257871172", "debt_service_principal": "453.19087102766645", "ending_cash": "-9049.18759631832"}, {"month": "15", "starting_cash": "0.0", "cash_from_ops": "-1104.4216070820291", "working_capital_delta": "251.5399657406665", "vat_cash": "842.8119778642706", "capex": "0.0", "debt_service_interest": "205.6421181481795", "debt_service_principal": "456.94857866660413", "ending_cash": "-10816.199900215133"}, {"month": "16", "starting_cash": "0.0", "cash_from_ops": "-905.7050341469024", "working_capital_delta": "269.36194654012434", "vat_cash": "895.6353706698104", "capex": "0.0", "debt_service_interest": "201.85325285006888", "debt_service_principal": "460.73744396471477", "ending_cash": "-12384.49563117682"}, {"month": "17", "starting_cash": "0.0", "cash_from_ops": "-746.7078657787708", "working_capital_delta": "288.55877303468696", "vat_cash": "952.2013794432368", "capex": "0.0", "debt_service_interest": "198.03297154386146", "debt_service_principal": "464.5577252709222", "ending_cash": "-13793.794193770376"}]}</script>
  <script>
    const DATA = JSON.parse(document.getElementById('DATA_JSON').textContent);
    const fmt0 = (x) => (x === Infinity ? '∞' : (x || 0).toLocaleString(undefined,{maximumFractionDigits:0}));
    const fmt2 = (x) => (x === Infinity ? '∞' : (x || 0).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2}));
    const euro = (x) => '€ ' + fmt0(x);

    function setText(id, text){ const el=document.getElementById(id); if(el) el.textContent=text; }

    (function init(){
      const cons = DATA.consolidated || {};
      const total = cons.total || {};
      const k = DATA.kpis || {};
      const m = DATA.meta || {};

      // Executive cards
      setText('dscr_min', (k.dscr_min===Infinity? '∞' : (k.dscr_min||0).toFixed(2)));
      setText('cash_min', euro(k.cash_min));
      setText('runway', (k.runway_months||0).toString());
      setText('rev_total', euro(total.revenue_eur||0));
      setText('cost_total', euro(total.cost_eur||0));
      setText('margin_total', euro(total.margin_eur||0));

      if (cons.percentiles){
        const rp = cons.percentiles.report_percentiles || [];
        const sel = cons.percentiles.selected_percentile;
        const note = `Representative scenario uses the ${sel}th percentile across runs; reported percentiles: [${rp.join(', ')}].`;
        setText('perc_note', note);
      }

      // Justifications
      const J = document.getElementById('justifications');
      const autos = cons.autoscaling || DATA.autoscaling || {};
      const bullets = [
        `Representative (median-like) scenario selected: p=${(m.selected_percentile ?? cons.percentiles?.selected_percentile ?? 50)}`,
        `VAT and working capital included: VAT total € ${fmt0(DATA.monthly?.vat_cash_total || 0)}, WC Δ total € ${fmt0(DATA.monthly?.wc_delta_total || 0)}`,
        `Autoscaling sanity: avg util ${(autos.avg_util_pct ?? 0).toFixed(1)}% · p95 util ${(autos.p95_util_pct ?? 0).toFixed(1)}% · SLA violations ${(autos.sla_violations ?? 0)}`,
        `Loan schedule fully applied to cashflow (interest and principal)`
      ];
      bullets.forEach(t=>{ const li=document.createElement('li'); li.textContent=t; J.appendChild(li); });

      // Tables
      const pnlT = document.querySelector('#tbl_pnl tbody');
      const cfT = document.querySelector('#tbl_cf tbody');
      const loanT = document.querySelector('#tbl_loan tbody');

      const pnlRows = DATA.pnl_rows || [];
      const cfRows = DATA.cf_rows || [];
      const loanRows = DATA.loan_schedule || [];

      const toNum = (v)=> Number.parseFloat(v || '0') || 0;

      // P&L
      for (let i=0;i<pnlRows.length;i++){
        const r = pnlRows[i];
        const tr = document.createElement('tr');
        const rev = toNum(r.revenue_public) + toNum(r.revenue_private);
        const cogs = toNum(r.cogs_public) + toNum(r.cogs_private);
        tr.innerHTML = `
          <td>${r.month}</td>
          <td>${euro(rev)}</td>
          <td>${euro(cogs)}</td>
          <td>${euro(toNum(r.opex_fixed))}</td>
          <td>${euro(toNum(r.depreciation))}</td>
          <td>${euro(toNum(r.EBITDA))}</td>
          <td>${euro(toNum(r.interest))}</td>
          <td>${euro(toNum(r.EBT))}</td>
          <td>${euro(toNum(r.tax))}</td>
          <td>${euro(toNum(r.NetIncome))}</td>
        `;
        pnlT.appendChild(tr);
      }

      // Cashflow
      for (let i=0;i<cfRows.length;i++){
        const r = cfRows[i];
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${r.month}</td>
          <td>${euro(toNum(r.starting_cash))}</td>
          <td>${euro(toNum(r.cash_from_ops))}</td>
          <td>${euro(toNum(r.working_capital_delta))}</td>
          <td>${euro(toNum(r.vat_cash))}</td>
          <td>${euro(toNum(r.capex))}</td>
          <td>${euro(toNum(r.debt_service_interest))}</td>
          <td>${euro(toNum(r.debt_service_principal))}</td>
          <td>${euro(toNum(r.ending_cash))}</td>
        `;
        cfT.appendChild(tr);
      }

      // Loan schedule
      for (let i=0;i<loanRows.length;i++){
        const r = loanRows[i];
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${r.month}</td>
          <td>${euro(toNum(r.principal_opening))}</td>
          <td>${euro(toNum(r.interest))}</td>
          <td>${euro(toNum(r.principal_repayment))}</td>
          <td>${euro(toNum(r.payment))}</td>
          <td>${euro(toNum(r.principal_closing))}</td>
        `;
        loanT.appendChild(tr);
      }

      // Visual indicators (optional): color DSCR card
      const dscr = Number(k.dscr_min || 0);
      const el = document.getElementById('dscr_min');
      if (dscr >= 1.2) el.classList.add('ok');
      else if (dscr >= 1.0) el.classList.add('warn');
      else el.classList.add('bad');
    })();
  </script>
</body>
</html>
