# E2E Haiku Proof Bundle Template

Required generated artifacts

- gpu_env.json — device model, driver, CUDA details
- sse_transcript.ndjson — streaming tokens from the haiku job
- metrics_snapshot.json — performance snapshot
- run_log_redacted.md — redacted run log
- test_report.md — summary (pass/fail, constraints satisfied)

Notes

- See `/.specs/00_llama-orch.md` §5 (Haiku E2E on real GPU).
- REQUIRE_REAL_LLAMA=1 must be enforced.

Path layout

- <crate>/.proof_bundle/e2e-haiku/<run_id>/
- run_id should be `YYYYMMDD-HHMMSS-<git_sha8>` or set `LLORCH_RUN_ID`.

Environment

- REQUIRE_REAL_LLAMA=1 — required for real-GPU runs
- LLORCH_RUN_ID — optional, groups artifacts per run
- LLORCH_PROOF_DIR — optional, overrides base bundle dir (defaults to `<crate>/.proof_bundle`)

Formats

- SSE transcript as NDJSON; metrics snapshot as JSON; run log as Markdown (redacted)

Autogenerated header (required)

- Markdown/plain-text: first line MUST be `# AUTOGENERATED: Proof Bundle`.
- NDJSON: first record SHOULD be `{ "_meta": "proof_bundle", "_note": "autogenerated" }`.
- JSON: prefer sibling `<name>.meta` file with the header line; embedding `{ "generated_by": "proof-bundle" }` is acceptable.

Guidance

- `gpu_env.json` should include device name, driver version, CUDA/CuDNN, and memory.
- `sse_transcript.ndjson` should contain `{event:"started|token|metrics|end", ...}` with token texts and indices.
- `metrics_snapshot.json` should include throughput, latency summaries, and any GPU utilization if available.

Links

- See `.docs/testing/types/e2e-haiku.md` and `.docs/testing/TEST_TYPES_GUIDE.md`.
